$(document).ready(function(){function e(e){var s=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return s.test(e)}function s(s){var n=$("#firstname").val(),a=$("#lastname").val(),o=$("#email").val(),t=$("#guests").val(),i;$("#attending").is(":checked")&&(i="Yes"),console.log(i),""!==n&&""!==a&&""!==o&&e(o)?$.ajax({url:"https://docs.google.com/a/osephj.com/forms/d/1bNc9VUKAtkjpG98LeLn25LpaUEVEqZz5g6Z0qelNkEc/formResponse",data:{"entry.1217023847":n,"entry.171952203":a,"entry.1654758078":o,"entry.73903124":i,"entry.2102932299":t},type:"POST",dataType:"json",statusCode:{0:function(){console.log("success!"),$("#firstname").val(""),$("#lastname").val(""),$("#email").val(""),$("#attending").prop("checked",!1),$("#guests").val(""),s()},200:function(){console.log("success!"),$("#firstname").val(""),$("#lastname").val(""),$("#email").val(""),$("#attending").prop("checked",!1),$("#guests").val(""),s()}}}):console.log("error!")}var n=$("html"),a=$("body"),o=a.find("#get-quote"),t=a.find("#submit-quote"),i="summerlove",r=function(e){var s=String(e).replace(/<\!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|script)([\s\>])/gi,'<div class="document-$1"$2').replace(/<\/(html|head|body|title|script)\>/gi,"</div>");return $.trim(s)};$(".js-rsvp-opener").click(function(){$(this).velocity("fadeOut",{duration:200,easing:"easeOutCubic"}).next(".password-prompt-contain").velocity("fadeIn",{delay:200,duration:400,easing:"easeOutCubic"})}),$("#password").keydown(function(){$(this).parent("#rsvp-code").find(".form-helper")&&$(this).parent("#rsvp-code").find(".form-helper").remove()}),$("#rsvp-code").submit(function(e){e.preventDefault();var s=$("#password").val();if(s===i){var n="rsvp.html";$.ajax({url:n,success:function(e,s,n){console.log("success!");var a=$(r(e)),o=a.find(".document-body:first"),t=o.find("#rsvp").filter(":first");$("#rsvp-code").velocity("slideUp",{duration:400,easing:"easeOutCubic",queue:!1}),$("#rsvp-code").velocity({opacity:0},{duration:400,easing:"easeOutCubic",queue:!1}),t.appendTo("#rsvp-wrap"),$("#rsvp-wrap").velocity("slideDown",{duration:1e3,easing:"easeOutCubic",queue:!1}),$("#rsvp-wrap").velocity({opacity:1},{duration:1e3,easing:"easeOutCubic",queue:!1}),$("#rsvp-wrap").velocity("scroll",{delay:100,duration:1e3,easing:"easeInOutCubic"}),$(window).trigger("rsvpInserted")},error:function(e,s,n){return console.log(s+": "+n),document.location.href=url,!1}})}else{var a='<div class="form-helper">Incorrect Code</div>';$("#rsvp-code").addClass("form-error").append(a),$("#password").val("")}}),$(window).on("rsvpInserted",function(){$("#lastname").keyup(function(){var e=$(this).val(),s=e.toLowerCase();console.log(s),-1!=s.indexOf("anger")||-1!=s.indexOf("van sasse")||-1!=s.indexOf("van sasse van ysselt")?(console.log("yes"),$("body").find(".js-guests").show()):$("body").find(".js-guests").hide()}),$("#rsvp-form").submit(function(e){e.preventDefault(),s(function(){var e=$("#rsvp-form").parent(),s="Thank you!",n='<div id="success" style="display: none;"><h1>Thank you!</h1><p>We&rsquo;ll be in touch soon.</p></div>',a='<div id="success" style="display: none;"><h1>¡Gracias!</h1><p>Pronto tendremos más detalles para compartir.</p></div>',o=window.location.href;$("#rsvp-form").velocity("slideUp",{duration:400,easing:"easeInOutCubic",queue:!1}),$("#rsvp-form").velocity({opacity:0},{duration:400,easing:"easeInOutCubic",queue:!1}),-1!=o.indexOf("/es")?e.append(a):e.append(n),e.find("#success").velocity("slideDown",{duration:400,easing:"easeInOutCubic",queue:!1}),e.find("#success").velocity({opacity:1},{duration:400,easing:"easeInOutCubic",queue:!1})})})}),$(window).load(function(){$(".global-loader").velocity("fadeOut",{duration:2e3,delay:2e3,easing:"easeOutCubic"}),$("#index").velocity("fadeIn",{duration:2e3,delay:5e3,easing:"easeInOutCubic"})})});